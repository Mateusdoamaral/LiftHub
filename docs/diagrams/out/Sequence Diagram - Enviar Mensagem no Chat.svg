<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="544px" preserveAspectRatio="none" style="width:1877px;height:544px;background:#FFFFFF;" version="1.1" viewBox="0 0 1877 544" width="1877px" zoomAndPan="magnify"><defs/><g><g><title>Backend (ChatController)</title><rect fill="#FFFFFF" height="203.9297" style="stroke:#181818;stroke-width:1;" width="10" x="706.4663" y="170.6953"/></g><g><title>Backend (ChatModel)</title><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1;" width="10" x="1103.3711" y="199.8281"/></g><g><title>Banco de Dados</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1386.835" y="228.9609"/></g><g><title>WebSocket Server</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1528.2788" y="345.4922"/></g><g><title>Usu&#225;rio</title><rect fill="#000000" fill-opacity="0.00000" height="382.5938" width="8" x="30.6021" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="34" x2="34" y1="81.2969" y2="463.8906"/></g><g><title>Frontend (Chat Page)</title><rect fill="#000000" fill-opacity="0.00000" height="382.5938" width="8" x="234.6543" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="238.5684" x2="238.5684" y1="81.2969" y2="463.8906"/></g><g><title>Backend (ChatController)</title><rect fill="#000000" fill-opacity="0.00000" height="382.5938" width="8" x="707.4663" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="710.6538" x2="710.6538" y1="81.2969" y2="463.8906"/></g><g><title>Backend (ChatModel)</title><rect fill="#000000" fill-opacity="0.00000" height="382.5938" width="8" x="1104.3711" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1108.1279" x2="1108.1279" y1="81.2969" y2="463.8906"/></g><g><title>Banco de Dados</title><rect fill="#000000" fill-opacity="0.00000" height="382.5938" width="8" x="1387.835" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1390.9224" x2="1390.9224" y1="81.2969" y2="463.8906"/></g><g><title>WebSocket Server</title><rect fill="#000000" fill-opacity="0.00000" height="382.5938" width="8" x="1529.2788" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1532.7476" x2="1532.7476" y1="81.2969" y2="463.8906"/></g><g><title>Outro Usu&#225;rio</title><rect fill="#000000" fill-opacity="0.00000" height="382.5938" width="8" x="1811.4941" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1814.8154" x2="1814.8154" y1="81.2969" y2="463.8906"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2041" x="5" y="77.9951">Usu&#225;rio</text><ellipse cx="34.6021" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M34.6021,21.5 L34.6021,48.5 M21.6021,29.5 L47.6021,29.5 M34.6021,48.5 L21.6021,63.5 M34.6021,48.5 L47.6021,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2041" x="5" y="475.8857">Usu&#225;rio</text><ellipse cx="34.6021" cy="487.6875" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M34.6021,495.6875 L34.6021,522.6875 M21.6021,503.6875 L47.6021,503.6875 M34.6021,522.6875 L21.6021,537.6875 M34.6021,522.6875 L47.6021,537.6875" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Frontend"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164.1719" x="156.5684" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.1719" x="163.5684" y="69.9951">Frontend (Chat Page)</text></g><g class="participant participant-tail" data-participant="Frontend"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164.1719" x="156.5684" y="462.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.1719" x="163.5684" y="482.8857">Frontend (Chat Page)</text></g><g class="participant participant-head" data-participant="ChatController"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="191.625" x="615.6538" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177.625" x="622.6538" y="69.9951">Backend (ChatController)</text></g><g class="participant participant-tail" data-participant="ChatController"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="191.625" x="615.6538" y="462.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177.625" x="622.6538" y="482.8857">Backend (ChatController)</text></g><g class="participant participant-head" data-participant="ChatModel"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164.4863" x="1026.1279" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.4863" x="1033.1279" y="69.9951">Backend (ChatModel)</text></g><g class="participant participant-tail" data-participant="ChatModel"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164.4863" x="1026.1279" y="462.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.4863" x="1033.1279" y="482.8857">Backend (ChatModel)</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.8252" x="1331.9224" y="77.9951">Banco de Dados</text><path d="M1373.835,29 C1373.835,19 1391.835,19 1391.835,19 C1391.835,19 1409.835,19 1409.835,29 L1409.835,55 C1409.835,65 1391.835,65 1391.835,65 C1391.835,65 1373.835,65 1373.835,55 L1373.835,29" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1373.835,29 C1373.835,39 1391.835,39 1391.835,39 C1391.835,39 1409.835,39 1409.835,29" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.8252" x="1331.9224" y="475.8857">Banco de Dados</text><path d="M1373.835,489.1875 C1373.835,479.1875 1391.835,479.1875 1391.835,479.1875 C1391.835,479.1875 1409.835,479.1875 1409.835,489.1875 L1409.835,515.1875 C1409.835,525.1875 1391.835,525.1875 1391.835,525.1875 C1391.835,525.1875 1373.835,525.1875 1373.835,515.1875 L1373.835,489.1875" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1373.835,489.1875 C1373.835,499.1875 1391.835,499.1875 1391.835,499.1875 C1391.835,499.1875 1409.835,499.1875 1409.835,489.1875" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-head" data-participant="WebSocket"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143.0625" x="1461.7476" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.0625" x="1468.7476" y="69.9951">WebSocket Server</text></g><g class="participant participant-tail" data-participant="WebSocket"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143.0625" x="1461.7476" y="462.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.0625" x="1468.7476" y="482.8857">WebSocket Server</text></g><g class="participant participant-head" data-participant="OtherUser"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111.3574" x="1759.8154" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.3574" x="1766.8154" y="69.9951">Outro Usu&#225;rio</text></g><g class="participant participant-tail" data-participant="OtherUser"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111.3574" x="1759.8154" y="462.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.3574" x="1766.8154" y="482.8857">Outro Usu&#225;rio</text></g><g><title>Backend (ChatController)</title><rect fill="#FFFFFF" height="203.9297" style="stroke:#181818;stroke-width:1;" width="10" x="706.4663" y="170.6953"/></g><g><title>Backend (ChatModel)</title><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1;" width="10" x="1103.3711" y="199.8281"/></g><g><title>Banco de Dados</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1386.835" y="228.9609"/></g><g><title>WebSocket Server</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1528.2788" y="345.4922"/></g><g class="message" data-participant-1="User" data-participant-2="Frontend"><polygon fill="#181818" points="226.6543,108.4297,236.6543,112.4297,226.6543,116.4297,230.6543,112.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="34.6021" x2="232.6543" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="41.6021" y="107.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.5732" x="54.6475" y="107.3638">Abre conversa no Chat</text></g><g class="message" data-participant-1="User" data-participant-2="Frontend"><polygon fill="#181818" points="226.6543,137.5625,236.6543,141.5625,226.6543,145.5625,230.6543,141.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="34.6021" x2="232.6543" y1="141.5625" y2="141.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="41.6021" y="136.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.0068" x="54.6475" y="136.4966">Digita e envia mensagem</text></g><g class="message" data-participant-1="Frontend" data-participant-2="ChatController"><polygon fill="#181818" points="694.4663,166.6953,704.4663,170.6953,694.4663,174.6953,698.4663,170.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="238.6543" x2="700.4663" y1="170.6953" y2="170.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="245.6543" y="165.6294">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="435.7666" x="258.6997" y="165.6294">POST /api/chat/messages (conversationId, senderId, messageText)</text></g><g class="message" data-participant-1="ChatController" data-participant-2="ChatModel"><polygon fill="#181818" points="1091.3711,195.8281,1101.3711,199.8281,1091.3711,203.8281,1095.3711,199.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="716.4663" x2="1097.3711" y1="199.8281" y2="199.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="723.4663" y="194.7622">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="354.8594" x="736.5117" y="194.7622">sendMessage(conversationId, senderId, messageText)</text></g><g class="message" data-participant-1="ChatModel" data-participant-2="DB"><polygon fill="#181818" points="1374.835,224.9609,1384.835,228.9609,1374.835,232.9609,1378.835,228.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1113.3711" x2="1380.835" y1="228.9609" y2="228.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="1120.3711" y="223.895">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.8643" x="1133.4165" y="223.895">INSERT INTO messages (...)</text></g><g class="message" data-participant-1="DB" data-participant-2="ChatModel"><polygon fill="#181818" points="1124.3711,254.0938,1114.3711,258.0938,1124.3711,262.0938,1120.3711,258.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1118.3711" x2="1390.835" y1="258.0938" y2="258.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="1130.3711" y="253.0278">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236.4185" x="1143.4165" y="253.0278">Retorna dados da mensagem criada</text></g><g class="message" data-participant-1="ChatModel" data-participant-2="ChatController"><polygon fill="#181818" points="727.4663,283.2266,717.4663,287.2266,727.4663,291.2266,723.4663,287.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="721.4663" x2="1107.3711" y1="287.2266" y2="287.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="733.4663" y="282.1606">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.7388" x="746.5117" y="282.1606">Retorna mensagem criada</text></g><g class="message" data-participant-1="ChatController" data-participant-2="Frontend"><polygon fill="#181818" points="249.6543,312.3594,239.6543,316.3594,249.6543,320.3594,245.6543,316.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="243.6543" x2="705.4663" y1="316.3594" y2="316.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="255.6543" y="311.2935">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="337.3081" x="268.6997" y="311.2935">Resposta 201 Created (Sucesso, mensagem criada)</text></g><g class="message" data-participant-1="ChatController" data-participant-2="WebSocket"><polygon fill="#181818" points="1516.2788,341.4922,1526.2788,345.4922,1516.2788,349.4922,1520.2788,345.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="716.4663" x2="1522.2788" y1="345.4922" y2="345.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="723.4663" y="340.4263">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.6602" x="736.5117" y="340.4263">send(conversationId, newMessageData)</text></g><g class="message" data-participant-1="WebSocket" data-participant-2="OtherUser"><polygon fill="#181818" points="1803.4941,370.625,1813.4941,374.625,1803.4941,378.625,1807.4941,374.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1533.2788" x2="1809.4941" y1="374.625" y2="374.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1540.2788" y="369.5591">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231.1245" x="1562.3696" y="369.5591">pushNotification(newMessageData)</text></g><g class="message" data-participant-1="Frontend" data-participant-2="Frontend"><line style="stroke:#181818;stroke-width:1;" x1="238.6543" x2="280.6543" y1="403.7578" y2="403.7578"/><line style="stroke:#181818;stroke-width:1;" x1="280.6543" x2="280.6543" y1="403.7578" y2="416.7578"/><line style="stroke:#181818;stroke-width:1;" x1="239.6543" x2="280.6543" y1="416.7578" y2="416.7578"/><polygon fill="#181818" points="249.6543,412.7578,239.6543,416.7578,249.6543,420.7578,245.6543,416.7578" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="245.6543" y="398.6919">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258.8892" x="267.7451" y="398.6919">Atualiza interface com nova mensagem</text></g><g class="message" data-participant-1="Frontend" data-participant-2="User"><polygon fill="#181818" points="45.6021,441.8906,35.6021,445.8906,45.6021,449.8906,41.6021,445.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="39.6021" x2="237.6543" y1="445.8906" y2="445.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="51.6021" y="440.8247">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.4399" x="73.6929" y="440.8247">Exibe nova mensagem</text></g><!--SRC=[dLEnRjim4Dtv5OSijO74RZjsA11RAU0XSM2vw7mYBp5HYHH8oWtwDqM7VeX_h4VP5YN5pT25eiXtxuxltM4Jh6cgWfmGA8DryDKtXrzEMq3FUpwlqGKjTOqcmDKNPqqWes2ot660HtocwLM4dY-6y0NAxnrwoGXdovBSCMHuzaRWlLLKffZsLoWCMA2dY3NIWYB8K5dVmhB5aEuR5RbbnW0vkJsv5jGT3h7hXYlgP6YHwx0ZrueXuWetdxltmYUuBHo1j8PvFOAnRP6NW9b-rW61WCnU8rHaFEjNYGx2yA4e7FIuphSmnrhF9L_DA_8noCFad35eQrRg6Zmpa8kx4sPBBs4QNTLx33IMMumodNAtudBQo7P_vFclJ4UJ4YFJPmlcNJtaTvijVxPhI6-PpMQzU7QFiJUZYZR4xMaGL7IPrqu_a4wZGg6epz1BVKdMCziR9EaPhxGQ-heXNrlFpdvy_m6MZZYOEpTl9B_FNezJJ8Lu1mysw2SjyV3dyDj2x8RKefCL5r5EBnYKC4U3NZbZwCV9j8p7eoTfwlN4mOHTOpDXtVZTkQp8DncJzQH9T6F1-XtMx-l-l8G6I_qJGVE9Uq8PfwVYmTd_OoPE1Twzw8A6iBy0]--></g></svg>